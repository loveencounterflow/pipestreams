// Generated by CoffeeScript 2.0.0-beta3
(function() {
  'use strict';
  var $, $async, CND, PS, TAP, badge, debug, echo, help, info, rpr, urge, warn, whisper;

  CND = require('cnd');

  rpr = CND.rpr;

  badge = 'GENERATOR-AS-SOURCE';

  debug = CND.get_logger('debug', badge);

  warn = CND.get_logger('warn', badge);

  info = CND.get_logger('info', badge);

  urge = CND.get_logger('urge', badge);

  help = CND.get_logger('help', badge);

  whisper = CND.get_logger('whisper', badge);

  echo = CND.echo.bind(CND);

  TAP = require('tap');

  PS = require('../..');

  ({$, $async} = PS);

  TAP.test("generator as source: random numbers", function(T) {
    var $random, pipeline, Ø;
    pipeline = [];
    Ø = (x) => {
      return pipeline.push(x);
    };
    $random = function(n, seed, delta) {
      var rnd;
      rnd = CND.get_rnd(n, seed, delta);
      return function(end, callback) {
        if (end) {
          return callback(end);
        }
        if (0 > (n += -1)) {
          return callback(true);
        }
        return callback(null, rnd());
      };
    };
    Ø($random(10, 1, 1));
    Ø(PS.$show());
    Ø(PS.$collect());
    Ø($('null', function(data, send) {
      if (data != null) {
        return send(data);
      } else {
        return T.end();
      }
    }));
    Ø(PS.$drain());
    return PS.pull(...pipeline);
  });

}).call(this);

//# sourceMappingURL=generator-as-source.js.map
