{
  "version": 3,
  "file": "gliding-window.js",
  "sourceRoot": "../..",
  "sources": [
    "src/tests/gliding-window.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\n'use strict'\n\n\n\n\n############################################################################################################\nCND                       = require 'cnd'\nrpr                       = CND.rpr\nbadge                     = 'GLIDING-WINDOW'\ndebug                     = CND.get_logger 'debug',     badge\nwarn                      = CND.get_logger 'warn',      badge\ninfo                      = CND.get_logger 'info',      badge\nurge                      = CND.get_logger 'urge',      badge\nhelp                      = CND.get_logger 'help',      badge\nwhisper                   = CND.get_logger 'whisper',   badge\necho                      = CND.echo.bind CND\n#...........................................................................................................\nTAP                       = require 'tap'\n#...........................................................................................................\nPS                        = require '../..'\n{ $, $async, }            = PS\n\n\n#-----------------------------------------------------------------------------------------------------------\nTAP.test \"gliding window: basic functionality\", ( T ) ->\n  #.........................................................................................................\n  pipeline      = []\n  Ø             = ( x ) => pipeline.push x\n  section_count = 0\n  probes        = ( i for i in [ 0 .. 9 ] )\n  width         = 3\n  expect_count  = Math.max 0, probes.length - width + 1\n  #.........................................................................................................\n  Ø ( require 'pull-stream/sources/values' ) probes\n  Ø PS.$gliding_window width, ( section ) ->\n    section_count += +1\n    urge section\n  Ø PS.$collect()\n  # Ø PS.$show()\n  Ø $ 'null', ( data, send ) ->\n    if data?\n      T.ok section_count is expect_count\n      send data\n    else\n      T.end()\n      # send null\n  Ø PS.$drain()\n  #.........................................................................................................\n  PS.pull pipeline...\n\n#-----------------------------------------------------------------------------------------------------------\nTAP.test \"gliding window: drop values\", ( T ) ->\n  #.........................................................................................................\n  pipeline      = []\n  Ø             = ( x ) => pipeline.push x\n  probes        = ( i for i in [ 0 .. 9 ] )\n  width         = 3\n  #.........................................................................................................\n  Ø ( require 'pull-stream/sources/values' ) probes\n  Ø PS.$gliding_window width, ( section ) ->\n    [ d0, d1, d2, ] = section\n    section[ 0 .. 2 ] = [ d0, d2, ] if d1 % 2 is 0\n  Ø PS.$collect()\n  # Ø PS.$show()\n  Ø $ 'null', ( data, send ) ->\n    if data?\n      urge data\n      T.ok CND.equals data, [ 0, 1, 3, 5, 7, 9 ]\n      send data\n    else\n      T.end()\n      # send null\n  Ø PS.$drain()\n  #.........................................................................................................\n  PS.pull pipeline...\n\n#-----------------------------------------------------------------------------------------------------------\nTAP.test \"gliding window: insert values\", ( T ) ->\n  #.........................................................................................................\n  pipeline      = []\n  Ø             = ( x ) => pipeline.push x\n  probes        = ( i for i in [ 0 .. 9 ] )\n  #.........................................................................................................\n  Ø ( require 'pull-stream/sources/values' ) probes\n  Ø PS.$gliding_window 1, ( section ) ->\n    [ d0, ] = section\n    section.push d0 * 2 if d0 % 2 is 1\n  Ø PS.$collect()\n  # Ø PS.$show()\n  Ø $ 'null', ( data, send ) ->\n    if data?\n      urge data\n      T.ok CND.equals data, [ 0, 1, 2, 2, 3, 6, 4, 5, 10, 6, 7, 14, 8, 9, 18 ]\n      send data\n    else\n      T.end()\n      # send null\n  Ø PS.$drain()\n  #.........................................................................................................\n  PS.pull pipeline...\n\n\n\n\n\n"
  ]
}